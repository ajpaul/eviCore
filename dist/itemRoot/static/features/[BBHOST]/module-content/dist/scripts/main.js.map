{"version":3,"sources":["webpack:///module-content/webpack/universalModuleDefinition","webpack:///module-content/scripts/main.js","webpack:///module-content/webpack/bootstrap a27d250c21b7b49558dc","webpack:///module-content/./styles/base.less?d762","webpack:///module-content/./styles/base.less","webpack:///module-content//Users/brenton/.nvm/versions/node/v4.2.2/lib/~/bb-lp-cli/~/css-loader/lib/css-base.js","webpack:///module-content//Users/brenton/.nvm/versions/node/v4.2.2/lib/~/bb-lp-cli/~/style-loader/addStyles.js","webpack:///module-content/./scripts/main.js","webpack:///module-content/(webpack)/buildin/module.js","webpack:///module-content/external \"base\"","webpack:///module-content/external \"core\"","webpack:///module-content/./scripts/utils.js","webpack:///module-content/./scripts/providers.js","webpack:///module-content/./scripts/api.js","webpack:///module-content/./scripts/directives.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","content","locals","push","list","toString","result","i","length","item","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","createStyleElement","styleElement","document","createElement","head","getHeadElement","type","appendChild","createLinkElement","linkElement","rel","obj","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","parentNode","removeChild","href","applyToTag","newObj","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","firstChild","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","apply","arguments","isOldIE","test","window","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean","__WEBPACK_AMD_DEFINE_RESULT__","name","base","core","deps","createModule","constant","provider","directive","undefined","webpackPolyfill","deprecate","paths","children","utils","lpContentUtils","isEditable","widget","bd","designMode","isMasterpage","property","isManageable","model","manageable","bindDropEvents","htmlNode","API","lpContent","structuredContentEndpoint","setStructuredContentEndpoint","endpoint","$get","$http","lpWidget","uuid","contextItemName","$inject","cache","STRUCTURED_CONTENT_ENDPOINT","config","assign","prototype","get","params","getConfig","url","resolvePortalPlaceholders","urlParams","key","templateUrl","contentRef","headers","Accept","then","data","cleanCache","setConfig","chain","mapValues","defaults","value","force","isString","isUndefined","Error","lpContentItemAsync","$compile","CONTENT_REF_ATTR","TEMPLATE_URL_ATTR","createParams","TEMPLATE_URL_PARAM","CONTENT_REF_PARAM","linkFn","scope","element","attrs","render","response","html","init","restrict","link","lpContentItem","$parse","ACTIVE_CLASS","EMPTY_CLASS","CONTENT_SERVICES_PROTOCOL","generateRef","repository","contentUId","initDesignMode","contentRefChanged","dragItem","addClass","addEventListener","e","detail","info","helper","bdDragData","fileDataArray","metaData","removeClass","newRef","setContentRef","ref","onChange"],"mappings":"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","file":"scripts/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"module-content\"] = factory(require(\"base\"), require(\"core\"));\n\telse\n\t\troot[\"module-content\"] = factory(root[\"base\"], root[\"core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"module-content\"] = factory(require(\"base\"), require(\"core\"));\n\telse\n\t\troot[\"module-content\"] = factory(root[\"base\"], root[\"core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\tmodule.exports = __webpack_require__(5);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\n\t// load the styles\n\tvar content = __webpack_require__(2);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/css-loader/index.js!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/less-loader/index.js!./base.less\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/css-loader/index.js!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/less-loader/index.js!./base.less\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\n\n\t// module\n\texports.push([module.id, \".lp-content-item{position:relative}.lp-empty-content-item:after,.lp-over-content-item:after{content:'Replace ' attr(data-type);min-height:98px;text-shadow:1px 1px 0 #fff;display:block;padding:30px;text-align:center;border:1px solid #ddd;text-transform:uppercase;font-weight:700;color:#999;background:#f0f0f0;position:absolute;top:0;bottom:0;left:0;right:0}.lp-over-content-item:after{position:absolute;background-color:#ddd;color:#fff;opacity:.9;text-shadow:-1px -1px 0 rgba(0,0,0,.5)}.lp-empty-content-item:after{content:'Drop ' attr(data-type) ' here'}\", \"\"]);\n\n\t// exports\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0;\r\n\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\r\n\tfunction createStyleElement() {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tvar head = getHeadElement();\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\thead.appendChild(styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\r\n\tfunction createLinkElement() {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tvar head = getHeadElement();\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\thead.appendChild(linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement();\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement();\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tupdate(obj);\r\n\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\t\tvar oldSrc = linkElement.href;\r\n\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Filename : main.js\n\t *  Description: Main entry point\n\t *  ----------------------------------------------------------------\n\t */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    module.name = 'module-content';\n\n\t    var base = __webpack_require__(7);\n\t    var core = __webpack_require__(8);\n\n\t    var deps = [\n\t        core.name\n\t    ];\n\n\t    module.exports = base.createModule(module.name, deps)\n\t        // Utilities\n\t        .constant( __webpack_require__(9) )\n\t        // Provide with services collection\n\t        .provider( __webpack_require__(10) )\n\t        // Directives\n\t        .directive( __webpack_require__(12) );\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6)(module)))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* globals window */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\n\t    'use strict';\n\n\t    var utils = __webpack_require__(7).utils;\n\t    var lpContentUtils = {\n\t        isEditable: function (widget) {\n\n\t            var bd = window.bd;\n\n\t            // Extend widget in design mode\n\t            if (bd && bd.designMode === 'true') {\n\t                var isMasterpage = utils.property('top.bd.PageMgmtTree.selectedLink.isMasterPage');\n\n\t                var isManageable = isMasterpage ||\n\t                    widget.model.manageable === 'true' ||\n\t                    widget.model.manageable === '' ||\n\t                    widget.model.manageable === undefined;\n\n\t                if (isManageable && bd && bd.bindDropEvents) {\n\t                    bd.bindDropEvents(widget.htmlNode);\n\t                    return true;\n\t                }\n\t            }\n\t            return false;\n\t        }\n\t    };\n\n\t   /**\n\t    * Export\n\t    */\n\t    exports.lpContentUtils = lpContentUtils;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t    'use strict';\n\n\t    var API = __webpack_require__(11);\n\n\t    /**\n\t     * lpContent provider\n\t     * @return {object} angular provider\n\t     * @ngInject\n\t     */\n\t    exports.lpContent = function() {\n\t        var structuredContentEndpoint;\n\n\t        /**\n\t         * Set the endpoint to use for fetching server-side rendered structured content\n\t         */\n\t        this.setStructuredContentEndpoint = function (endpoint) {\n\t            structuredContentEndpoint = endpoint;\n\t        };\n\n\t        /**\n\t         * Configure the provider before initialisation.\n\t         * @ngInject\n\t         */\n\t        this.$get = function($http, lpWidget) {\n\t            return new API({\n\t                $http: $http,\n\t                uuid: lpWidget.model.uuid,\n\t                contextItemName: lpWidget.model.contextItemName,\n\t                structuredContentEndpoint: structuredContentEndpoint\n\t            });\n\t        };\n\t        this.$get.$inject = [\"$http\", \"lpWidget\"];\n\n\t    };\n\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var utils = __webpack_require__(7).utils;\n\t    var cache = {};\n\t    var STRUCTURED_CONTENT_ENDPOINT = '$(contextRoot)/contenttemplates/rendered';\n\n\t    /**\n\t     * Services API\n\t     * @param  {object} config and DI to the API\n\t     */\n\t    var API = function(options) {\n\t        this.$http = options.$http;\n\t        this.config = {\n\t            uuid: options.uuid,\n\t            contextItemName: options.contextItemName,\n\t            structuredContentEndpoint: options.structuredContentEndpoint || STRUCTURED_CONTENT_ENDPOINT\n\t        };\n\t    };\n\n\t    utils.assign(API.prototype, {\n\n\t       /**\n\t        * get rendered content\n\t        * @param  {object} params get parameters\n\t        * @return {Promise} cached http promise\n\t        */\n\t        get: function(params) {\n\n\t            var endpoint = this.getConfig('structuredContentEndpoint');\n\n\t            var url = utils.resolvePortalPlaceholders(endpoint);\n\n\t            var urlParams = {\n\t                uuid: this.getConfig('uuid', true),\n\t                contextItemName: this.getConfig('contextItemName', true)\n\t            };\n\n\t            var key = [urlParams.uuid];\n\n\t            if (params && params.templateUrl) {\n\t                key.push(params.templateUrl[0]);\n\t                key.push(params.templateUrl[1]);\n\t                urlParams.templateUrl = params.templateUrl[1];\n\t            }\n\n\t            if (params && params.contentRef) {\n\t                key.push(params.contentRef[0]);\n\t                key.push(params.contentRef[1]);\n\t                urlParams['contentRef.contentRef'] = params.contentRef[1];\n\t            }\n\n\n\t            // Cache key: uuid_templateUrl_contentRef\n\t            key = key.join('_');\n\n\n\t            // Cache http promise\n\t            cache[key] = cache[key] || this.$http.get(url, {\n\t                params: urlParams,\n\t                headers: {\n\t                   'Accept': 'text/html'\n\t                }\n\t            }).then(function(data) {\n\t                return data;\n\t            });\n\n\t            return cache[key];\n\t        },\n\n\t        cleanCache: function() {\n\t            cache = {};\n\t        },\n\n\t        setConfig: function(options) {\n\t            this.config = utils(options).chain()\n\t                .mapValues(utils.resolvePortalPlaceholders)\n\t                .defaults(this.config)\n\t                .value();\n\t            return this;\n\t        },\n\n\t        getConfig: function(name, force) {\n\t            // return whole config if preference name was not passed\n\t            if (!name || !utils.isString(name)) {\n\t                return this.config;\n\t            }\n\n\t            if (force && utils.isUndefined(this.config[name])) {\n\t                throw new Error('lpContent is not configured with \"' + name + '\"');\n\t            }\n\n\t            return this.config[name];\n\t        }\n\n\t    });\n\n\n\n\t    module.exports = API;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    /**\n\t     * structured content directive\n\t     * attrs:\n\t     *     lp-content-item - (optional) content reference\n\t     *     template-url - (optional) template url\n\t     * event-listeners:\n\t     *     content.changed({ contentRef, templateUrl }) - Asynchronously replaces the content\n\t     * usage: <div lp-content-item=\"\" template-url=\"\"></div>\n\t     *        If the content-ref (via lp-content-item) or the template-url is provided, the contents\n\t     *        will be loaded asynchronously.\n\t     * @ngInject\n\t     */\n\t    exports.lpContentItemAsync = function ($compile, lpContent, lpContentUtils) {\n\t        var CONTENT_REF_ATTR = 'lpContentItemAsync';\n\t        var TEMPLATE_URL_ATTR = 'templateUrl';\n\n\t        var createParams = function (contentRef, templateUrl) {\n\t            var TEMPLATE_URL_PARAM = 'templateUrl';\n\t            var CONTENT_REF_PARAM = 'contentRef';\n\n\t            var params = {};\n\n\t            // directive uses custom template url preference\n\t            if (templateUrl) {\n\t                params[TEMPLATE_URL_PARAM] = [\n\t                    TEMPLATE_URL_PARAM,\n\t                    templateUrl\n\t                ];\n\t            }\n\n\t            // directive uses custom content reference preference\n\t            if (contentRef) {\n\t                params[CONTENT_REF_PARAM] = [\n\t                    CONTENT_REF_PARAM,\n\t                    contentRef\n\t                ];\n\t            }\n\n\t            return params;\n\t        };\n\n\t        var linkFn = function (scope, element, attrs) {\n\t            var render = function (contentRef, templateUrl) {\n\t                var params = createParams(contentRef, templateUrl);\n\t                return lpContent.get(params)\n\t                    .then(function (response) {\n\t                        var content = $compile(response && response.data)(scope);\n\t                        element.html(content);\n\t                    });\n\t            };\n\n\t            var init = function () {\n\t                var contentRef = attrs[CONTENT_REF_ATTR];\n\t                var templateUrl = attrs[TEMPLATE_URL_ATTR];\n\n\t                if (contentRef || templateUrl) {\n\t                    render(contentRef, templateUrl);\n\t                }\n\t            };\n\n\t            init();\n\t        };\n\n\t        return {\n\t            restrict: 'AE',\n\t            link: linkFn\n\t        };\n\t    };\n\t    exports.lpContentItemAsync.$inject = [\"$compile\", \"lpContent\", \"lpContentUtils\"];\n\n\t    /**\n\t     * structured content drag-n-drop directive\n\t     * attrs:\n\t     *     lp-content-item-picker - (optional) the initial content ref (probably from the widget preferences)\n\t     *     on-change - (optional) callback for changes in contentRef, provides `contentRef` in scope\n\t     * usage: <div lp-content-item-picker=\"{{contentRef}}\" on-change=\"updateWidget(contentRef)\"></div>\n\t     *        Does not asynchronously load content - if this is required, use lpContentItem.\n\t     * @ngInject\n\t     */\n\t    exports.lpContentItem = function ($compile, $parse, lpContent, lpContentUtils, lpWidget) {\n\t        var CONTENT_REF_ATTR = 'lpContentItem';\n\n\t        var ACTIVE_CLASS = 'lp-over-content-item';\n\t        var EMPTY_CLASS = 'lp-empty-content-item';\n\n\t        var CONTENT_SERVICES_PROTOCOL = 'cs';\n\n\t        var generateRef = function (item) {\n\t            return [CONTENT_SERVICES_PROTOCOL,\n\t                    item.repository === 'contentRepository' ? item.repository : '@portalRepository',\n\t                    item.contentUId\n\t                   ].join(':');\n\t        };\n\n\t        // init in the CXP manager\n\t        var initDesignMode = function (element, contentRef, contentRefChanged) {\n\t            var dragItem;\n\n\t            if (!contentRef) {\n\t                element.addClass(EMPTY_CLASS);\n\t            }\n\n\t            lpWidget.addEventListener('bdDrop.enter', function(e) {\n\t                var item = e.detail.info.helper.bdDragData.fileDataArray[0]; // e.detail.info.helper is a HTMLElement!@$#%\n\n\t                if (item.metaData && item.metaData['cmis:objectTypeId'] &&\n\t                    item.metaData['cmis:objectTypeId'].property === 'bb:structuredcontent') {\n\t                        dragItem = item;\n\t                        element.addClass(ACTIVE_CLASS);\n\t                } else {\n\t                    dragItem = undefined;\n\t                }\n\t            });\n\n\t            lpWidget.addEventListener('bdDrop.leave', function(e) {\n\t                element.removeClass(ACTIVE_CLASS);\n\t            });\n\n\t            // save contentRef preference on a widget\n\t            lpWidget.addEventListener('bdDrop.drop', function(e) {\n\t                if (!dragItem) {\n\t                    return;\n\t                }\n\n\t                var newRef = generateRef(dragItem);\n\n\t                dragItem = undefined;\n\t                element.removeClass(EMPTY_CLASS);\n\t                element.removeClass(ACTIVE_CLASS);\n\n\t                contentRefChanged(newRef);\n\t            });\n\t        };\n\n\t        var linkFn = function (scope, element, attrs) {\n\t            var contentRef = attrs[CONTENT_REF_ATTR];\n\n\t            var setContentRef = function (ref) {\n\t                if (!attrs.onChange) { return; }\n\t                $parse(attrs.onChange)(scope, { contentRef: ref });\n\t            };\n\n\t            // init in the CXP manager\n\t            if (lpContentUtils.isEditable(lpWidget)) {\n\t                initDesignMode(element, contentRef, setContentRef);\n\t            }\n\t        };\n\n\t        return {\n\t            restrict: 'AE',\n\t            link: linkFn\n\t        };\n\t    };\n\t    exports.lpContentItem.$inject = [\"$compile\", \"$parse\", \"lpContent\", \"lpContentUtils\", \"lpWidget\"];\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** scripts/main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a27d250c21b7b49558dc\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/css-loader/index.js!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/less-loader/index.js!./base.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/css-loader/index.js!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/less-loader/index.js!./base.less\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/css-loader/index.js!./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/less-loader/index.js!./base.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./styles/base.less\n ** module id = 1\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../../.nvm/versions/node/v4.2.2/lib/node_modules/bb-lp-cli/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".lp-content-item{position:relative}.lp-empty-content-item:after,.lp-over-content-item:after{content:'Replace ' attr(data-type);min-height:98px;text-shadow:1px 1px 0 #fff;display:block;padding:30px;text-align:center;border:1px solid #ddd;text-transform:uppercase;font-weight:700;color:#999;background:#f0f0f0;position:absolute;top:0;bottom:0;left:0;right:0}.lp-over-content-item:after{position:absolute;background-color:#ddd;color:#fff;opacity:.9;text-shadow:-1px -1px 0 rgba(0,0,0,.5)}.lp-empty-content-item:after{content:'Drop ' attr(data-type) ' here'}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/brenton/.nvm/versions/node/v4.2.2/lib/~/bb-lp-cli/~/css-loader!/Users/brenton/.nvm/versions/node/v4.2.2/lib/~/bb-lp-cli/~/less-loader!./styles/base.less\n ** module id = 2\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/brenton/.nvm/versions/node/v4.2.2/lib/~/bb-lp-cli/~/css-loader/lib/css-base.js\n ** module id = 3\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/brenton/.nvm/versions/node/v4.2.2/lib/~/bb-lp-cli/~/style-loader/addStyles.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Filename : main.js\n *  Description: Main entry point\n *  ----------------------------------------------------------------\n */\n\ndefine( function (require, exports, module) {\n\n    'use strict';\n\n    module.name = 'module-content';\n\n    var base = require('base');\n    var core = require('core');\n\n    var deps = [\n        core.name\n    ];\n\n    module.exports = base.createModule(module.name, deps)\n        // Utilities\n        .constant( require('./utils') )\n        // Provide with services collection\n        .provider( require('./providers') )\n        // Directives\n        .directive( require('./directives') );\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/main.js\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"base\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"core\"\n ** module id = 8\n ** module chunks = 0\n **/","/* globals window */\ndefine(function (require, exports, module) {\n\n    'use strict';\n\n    var utils = require('base').utils;\n    var lpContentUtils = {\n        isEditable: function (widget) {\n\n            var bd = window.bd;\n\n            // Extend widget in design mode\n            if (bd && bd.designMode === 'true') {\n                var isMasterpage = utils.property('top.bd.PageMgmtTree.selectedLink.isMasterPage');\n\n                var isManageable = isMasterpage ||\n                    widget.model.manageable === 'true' ||\n                    widget.model.manageable === '' ||\n                    widget.model.manageable === undefined;\n\n                if (isManageable && bd && bd.bindDropEvents) {\n                    bd.bindDropEvents(widget.htmlNode);\n                    return true;\n                }\n            }\n            return false;\n        }\n    };\n\n   /**\n    * Export\n    */\n    exports.lpContentUtils = lpContentUtils;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/utils.js\n ** module id = 9\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    var API = require('./api');\n\n    /**\n     * lpContent provider\n     * @return {object} angular provider\n     * @ngInject\n     */\n    exports.lpContent = function() {\n        var structuredContentEndpoint;\n\n        /**\n         * Set the endpoint to use for fetching server-side rendered structured content\n         */\n        this.setStructuredContentEndpoint = function (endpoint) {\n            structuredContentEndpoint = endpoint;\n        };\n\n        /**\n         * Configure the provider before initialisation.\n         * @ngInject\n         */\n        this.$get = function($http, lpWidget) {\n            return new API({\n                $http: $http,\n                uuid: lpWidget.model.uuid,\n                contextItemName: lpWidget.model.contextItemName,\n                structuredContentEndpoint: structuredContentEndpoint\n            });\n        };\n\n    };\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/providers.js\n ** module id = 10\n ** module chunks = 0\n **/","define( function (require, exports, module) {\n    'use strict';\n\n    var utils = require('base').utils;\n    var cache = {};\n    var STRUCTURED_CONTENT_ENDPOINT = '$(contextRoot)/contenttemplates/rendered';\n\n    /**\n     * Services API\n     * @param  {object} config and DI to the API\n     */\n    var API = function(options) {\n        this.$http = options.$http;\n        this.config = {\n            uuid: options.uuid,\n            contextItemName: options.contextItemName,\n            structuredContentEndpoint: options.structuredContentEndpoint || STRUCTURED_CONTENT_ENDPOINT\n        };\n    };\n\n    utils.assign(API.prototype, {\n\n       /**\n        * get rendered content\n        * @param  {object} params get parameters\n        * @return {Promise} cached http promise\n        */\n        get: function(params) {\n\n            var endpoint = this.getConfig('structuredContentEndpoint');\n\n            var url = utils.resolvePortalPlaceholders(endpoint);\n\n            var urlParams = {\n                uuid: this.getConfig('uuid', true),\n                contextItemName: this.getConfig('contextItemName', true)\n            };\n\n            var key = [urlParams.uuid];\n\n            if (params && params.templateUrl) {\n                key.push(params.templateUrl[0]);\n                key.push(params.templateUrl[1]);\n                urlParams.templateUrl = params.templateUrl[1];\n            }\n\n            if (params && params.contentRef) {\n                key.push(params.contentRef[0]);\n                key.push(params.contentRef[1]);\n                urlParams['contentRef.contentRef'] = params.contentRef[1];\n            }\n\n\n            // Cache key: uuid_templateUrl_contentRef\n            key = key.join('_');\n\n\n            // Cache http promise\n            cache[key] = cache[key] || this.$http.get(url, {\n                params: urlParams,\n                headers: {\n                   'Accept': 'text/html'\n                }\n            }).then(function(data) {\n                return data;\n            });\n\n            return cache[key];\n        },\n\n        cleanCache: function() {\n            cache = {};\n        },\n\n        setConfig: function(options) {\n            this.config = utils(options).chain()\n                .mapValues(utils.resolvePortalPlaceholders)\n                .defaults(this.config)\n                .value();\n            return this;\n        },\n\n        getConfig: function(name, force) {\n            // return whole config if preference name was not passed\n            if (!name || !utils.isString(name)) {\n                return this.config;\n            }\n\n            if (force && utils.isUndefined(this.config[name])) {\n                throw new Error('lpContent is not configured with \"' + name + '\"');\n            }\n\n            return this.config[name];\n        }\n\n    });\n\n\n\n    module.exports = API;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/api.js\n ** module id = 11\n ** module chunks = 0\n **/","define(function (require, exports, module) {\n    'use strict';\n\n    /**\n     * structured content directive\n     * attrs:\n     *     lp-content-item - (optional) content reference\n     *     template-url - (optional) template url\n     * event-listeners:\n     *     content.changed({ contentRef, templateUrl }) - Asynchronously replaces the content\n     * usage: <div lp-content-item=\"\" template-url=\"\"></div>\n     *        If the content-ref (via lp-content-item) or the template-url is provided, the contents\n     *        will be loaded asynchronously.\n     * @ngInject\n     */\n    exports.lpContentItemAsync = function ($compile, lpContent, lpContentUtils) {\n        var CONTENT_REF_ATTR = 'lpContentItemAsync';\n        var TEMPLATE_URL_ATTR = 'templateUrl';\n\n        var createParams = function (contentRef, templateUrl) {\n            var TEMPLATE_URL_PARAM = 'templateUrl';\n            var CONTENT_REF_PARAM = 'contentRef';\n\n            var params = {};\n\n            // directive uses custom template url preference\n            if (templateUrl) {\n                params[TEMPLATE_URL_PARAM] = [\n                    TEMPLATE_URL_PARAM,\n                    templateUrl\n                ];\n            }\n\n            // directive uses custom content reference preference\n            if (contentRef) {\n                params[CONTENT_REF_PARAM] = [\n                    CONTENT_REF_PARAM,\n                    contentRef\n                ];\n            }\n\n            return params;\n        };\n\n        var linkFn = function (scope, element, attrs) {\n            var render = function (contentRef, templateUrl) {\n                var params = createParams(contentRef, templateUrl);\n                return lpContent.get(params)\n                    .then(function (response) {\n                        var content = $compile(response && response.data)(scope);\n                        element.html(content);\n                    });\n            };\n\n            var init = function () {\n                var contentRef = attrs[CONTENT_REF_ATTR];\n                var templateUrl = attrs[TEMPLATE_URL_ATTR];\n\n                if (contentRef || templateUrl) {\n                    render(contentRef, templateUrl);\n                }\n            };\n\n            init();\n        };\n\n        return {\n            restrict: 'AE',\n            link: linkFn\n        };\n    };\n\n    /**\n     * structured content drag-n-drop directive\n     * attrs:\n     *     lp-content-item-picker - (optional) the initial content ref (probably from the widget preferences)\n     *     on-change - (optional) callback for changes in contentRef, provides `contentRef` in scope\n     * usage: <div lp-content-item-picker=\"{{contentRef}}\" on-change=\"updateWidget(contentRef)\"></div>\n     *        Does not asynchronously load content - if this is required, use lpContentItem.\n     * @ngInject\n     */\n    exports.lpContentItem = function ($compile, $parse, lpContent, lpContentUtils, lpWidget) {\n        var CONTENT_REF_ATTR = 'lpContentItem';\n\n        var ACTIVE_CLASS = 'lp-over-content-item';\n        var EMPTY_CLASS = 'lp-empty-content-item';\n\n        var CONTENT_SERVICES_PROTOCOL = 'cs';\n\n        var generateRef = function (item) {\n            return [CONTENT_SERVICES_PROTOCOL,\n                    item.repository === 'contentRepository' ? item.repository : '@portalRepository',\n                    item.contentUId\n                   ].join(':');\n        };\n\n        // init in the CXP manager\n        var initDesignMode = function (element, contentRef, contentRefChanged) {\n            var dragItem;\n\n            if (!contentRef) {\n                element.addClass(EMPTY_CLASS);\n            }\n\n            lpWidget.addEventListener('bdDrop.enter', function(e) {\n                var item = e.detail.info.helper.bdDragData.fileDataArray[0]; // e.detail.info.helper is a HTMLElement!@$#%\n\n                if (item.metaData && item.metaData['cmis:objectTypeId'] &&\n                    item.metaData['cmis:objectTypeId'].property === 'bb:structuredcontent') {\n                        dragItem = item;\n                        element.addClass(ACTIVE_CLASS);\n                } else {\n                    dragItem = undefined;\n                }\n            });\n\n            lpWidget.addEventListener('bdDrop.leave', function(e) {\n                element.removeClass(ACTIVE_CLASS);\n            });\n\n            // save contentRef preference on a widget\n            lpWidget.addEventListener('bdDrop.drop', function(e) {\n                if (!dragItem) {\n                    return;\n                }\n\n                var newRef = generateRef(dragItem);\n\n                dragItem = undefined;\n                element.removeClass(EMPTY_CLASS);\n                element.removeClass(ACTIVE_CLASS);\n\n                contentRefChanged(newRef);\n            });\n        };\n\n        var linkFn = function (scope, element, attrs) {\n            var contentRef = attrs[CONTENT_REF_ATTR];\n\n            var setContentRef = function (ref) {\n                if (!attrs.onChange) { return; }\n                $parse(attrs.onChange)(scope, { contentRef: ref });\n            };\n\n            // init in the CXP manager\n            if (lpContentUtils.isEditable(lpWidget)) {\n                initDesignMode(element, contentRef, setContentRef);\n            }\n        };\n\n        return {\n            restrict: 'AE',\n            link: linkFn\n        };\n    };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/directives.js\n ** module id = 12\n ** module chunks = 0\n **/"],"sourceRoot":""}