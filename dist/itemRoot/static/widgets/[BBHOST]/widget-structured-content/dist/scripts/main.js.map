{"version":3,"sources":["webpack:///widget-structured-content/webpack/universalModuleDefinition","webpack:///widget-structured-content/scripts/main.js","webpack:///widget-structured-content/webpack/bootstrap 8e51eada8f4c06e3e472","webpack:///widget-structured-content/./scripts/main.js","webpack:///widget-structured-content/(webpack)/buildin/module.js","webpack:///widget-structured-content/./scripts/controllers.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_RESULT__","run","lpCoreBus","lpWidget","model","publish","name","base","core","ui","content","deps","$inject","createModule","controller","undefined","webpackPolyfill","deprecate","paths","children","CONTENT_REF_PREF","LINK_BASE_PREF","initDesignMode","ctrl","saveContentRef","contentRef","setPreference","save","refreshHTML","MainCtrl","$location","lpContentUtils","lpPortal","getPreference","asyncContentRef","url","replace","linkBase","initContentRef","link","$","htmlNode","find","attr","isEditable"],"mappings":"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","file":"scripts/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-content\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\", \"ui\", \"module-content\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-structured-content\"] = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-content\"));\n\telse\n\t\troot[\"widget-structured-content\"] = factory(root[\"base\"], root[\"core\"], root[\"ui\"], root[\"module-content\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-content\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\", \"ui\", \"module-content\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-structured-content\"] = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-content\"));\n\telse\n\t\troot[\"widget-structured-content\"] = factory(root[\"base\"], root[\"core\"], root[\"ui\"], root[\"module-content\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {/*global define */\n\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - New York\n\t *  Filename : main.js\n\t *  ----------------------------------------------------------------\n\t */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    module.name = 'widget-structured-content';\n\n\t    var base = __webpack_require__(2);\n\t    var core = __webpack_require__(3);\n\t    var ui = __webpack_require__(4);\n\t    var content = __webpack_require__(5);\n\n\t    var deps = [\n\t        core.name,\n\t        ui.name,\n\t        content.name\n\t    ];\n\n\t    // @ngInject\n\t    function run(lpCoreBus, lpWidget) {\n\t        if (lpWidget && lpWidget.model) {\n\t            lpCoreBus.publish('cxp.item.loaded', {\n\t                id: lpWidget.model.name\n\t            });\n\t        }\n\t    }\n\t    run.$inject = [\"lpCoreBus\", \"lpWidget\"];\n\n\t    return base.createModule(module.name, deps)\n\t        .controller( __webpack_require__(6) )\n\t        .run( run );\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/*global define */\n\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t    'use strict';\n\n\t    var CONTENT_REF_PREF = 'contentRef';\n\t    var LINK_BASE_PREF = 'linkBase';\n\n\t    var initDesignMode = function (ctrl, lpWidget) {\n\t        ctrl.saveContentRef = function (contentRef) {\n\t            lpWidget.setPreference(CONTENT_REF_PREF, contentRef);\n\t            lpWidget.model.save(function(){\n\t                lpWidget.refreshHTML();\n\t            });\n\t        };\n\t    };\n\n\t    /**\n\t     * Structured Content Controller\n\t     * @ngInject\n\t     */\n\t    exports.MainCtrl = function ($location, lpContentUtils, lpWidget, lpPortal) {\n\t        var ctrl = this;\n\t        var contentRef = lpWidget.getPreference(CONTENT_REF_PREF);\n\t        var asyncContentRef = $location.url().replace(/^\\//, '');\n\t        var linkBase = lpWidget.getPreference(LINK_BASE_PREF);\n\n\t        ctrl.initContentRef = contentRef;\n\t        if (asyncContentRef !== contentRef) {\n\t            ctrl.asyncContentRef = asyncContentRef;\n\t        }\n\n\t        if (linkBase) {\n\t            ctrl.link = lpPortal.root + '/' + linkBase + '#/' + contentRef;\n\t            $(lpWidget.htmlNode).find('.media a.media-link').attr('href', ctrl.link);\n\t            $(lpWidget.htmlNode).find('.media a.media-link-small').attr('href', ctrl.link);\n\t        }\n\n\t        if (lpContentUtils.isEditable(lpWidget)) {\n\t            initDesignMode(ctrl, lpWidget);\n\t        }\n\t    };\n\t    exports.MainCtrl.$inject = [\"$location\", \"lpContentUtils\", \"lpWidget\", \"lpPortal\"];\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** scripts/main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8e51eada8f4c06e3e472\n **/","/*global define */\n\n/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - New York\n *  Filename : main.js\n *  ----------------------------------------------------------------\n */\n\ndefine(function (require, exports, module) {\n    'use strict';\n\n    module.name = 'widget-structured-content';\n\n    var base = require('base');\n    var core = require('core');\n    var ui = require('ui');\n    var content = require('module-content');\n\n    var deps = [\n        core.name,\n        ui.name,\n        content.name\n    ];\n\n    // @ngInject\n    function run(lpCoreBus, lpWidget) {\n        if (lpWidget && lpWidget.model) {\n            lpCoreBus.publish('cxp.item.loaded', {\n                id: lpWidget.model.name\n            });\n        }\n    }\n\n    return base.createModule(module.name, deps)\n        .controller( require('./controllers') )\n        .run( run );\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 1\n ** module chunks = 0\n **/","/*global define */\n\ndefine(function (require, exports, module) {\n    'use strict';\n\n    var CONTENT_REF_PREF = 'contentRef';\n    var LINK_BASE_PREF = 'linkBase';\n\n    var initDesignMode = function (ctrl, lpWidget) {\n        ctrl.saveContentRef = function (contentRef) {\n            lpWidget.setPreference(CONTENT_REF_PREF, contentRef);\n            lpWidget.model.save(function(){\n                lpWidget.refreshHTML();\n            });\n        };\n    };\n\n    /**\n     * Structured Content Controller\n     * @ngInject\n     */\n    exports.MainCtrl = function ($location, lpContentUtils, lpWidget, lpPortal) {\n        var ctrl = this;\n        var contentRef = lpWidget.getPreference(CONTENT_REF_PREF);\n        var asyncContentRef = $location.url().replace(/^\\//, '');\n        var linkBase = lpWidget.getPreference(LINK_BASE_PREF);\n\n        ctrl.initContentRef = contentRef;\n        if (asyncContentRef !== contentRef) {\n            ctrl.asyncContentRef = asyncContentRef;\n        }\n\n        if (linkBase) {\n            ctrl.link = lpPortal.root + '/' + linkBase + '#/' + contentRef;\n            $(lpWidget.htmlNode).find('.media a.media-link').attr('href', ctrl.link);\n            $(lpWidget.htmlNode).find('.media a.media-link-small').attr('href', ctrl.link);\n        }\n\n        if (lpContentUtils.isEditable(lpWidget)) {\n            initDesignMode(ctrl, lpWidget);\n        }\n    };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/controllers.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}