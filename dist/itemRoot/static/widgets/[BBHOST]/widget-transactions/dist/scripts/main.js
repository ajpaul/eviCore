/* widget-transactions@v3.11.4 build with â™¥ by bb-lp-cli@v1.9.12 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-transactions"),require("module-contacts"),require("module-freshness"),require("module-users")):"function"==typeof define&&define.amd?define(["base","ui","core","module-accounts","module-transactions","module-contacts","module-freshness","module-users"],n):"object"==typeof exports?exports["widget-transactions"]=n(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-transactions"),require("module-contacts"),require("module-freshness"),require("module-users")):e["widget-transactions"]=n(e.base,e.ui,e.core,e["module-accounts"],e["module-transactions"],e["module-contacts"],e["module-freshness"],e["module-users"])}(this,function(e,n,t,a,o,r,c,s){return function(e){function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,exports,n){e.exports=n(1)},function(e,exports,n){var t;(function(e){"use strict";t=function(require,exports,e){function t(e,n,t,a,o,r){n.setConfig({endpoint:e.getPreference("categoryDataSrc")}),t.setConfig({accountsEndpoint:e.getPreference("accountsDataSrc")}),a.setConfig({transactionsEndpoint:e.getPreference("transactionsDataSrc"),transactionDetailsEndpoint:e.getPreference("transactionDetailsDataSrc"),categoriesEndpoint:e.getPreference("categoriesDataSrc"),categorySpendingEndpoint:e.getPreference("categorySpendingDataSrc"),accountsChartEndpoint:e.getPreference("accountBalanceChartDataSrc"),transactionsChartEndpoint:e.getPreference("transactionsChartDataSrc"),allAccountsChartEndpoint:e.getPreference("allAccountsBalanceChartDataSrc"),allTransactionsChartEndpoint:e.getPreference("allTransactionsChartDataSrc"),accountHoldsEndpoint:e.getPreference("accountHolds"),customTemplateSrc:e.getPreference("customTemplateSrc"),groupTransactionsByDate:r.parseBoolean(e.getPreference("groupTransactionsByDate")),pageSize:parseInt(e.getPreference("transactionsPageSize"),10)||void 0}),e&&e.model&&e.model.name&&o.publish("cxp.item.loaded",{id:e.model.name})}t.$inject=["lpWidget","lpTransactionsCategory","lpAccounts","lpTransactions","lpCoreBus","lpCoreUtils"],e.name="widget-transactions";var a=n(3),o=n(4),r=n(5),c=n(6),s=n(7),i=n(8),l=n(9),u=n(10),d=[r.name,o.name,c.name,s.name,i.name,l.name,u.name];e.exports=a.createModule(e.name,d).controller(n(11)).run(t)}.call(exports,n,exports,e),!(void 0!==t&&(e.exports=t))}).call(exports,n(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(n,exports){n.exports=e},function(e,exports){e.exports=n},function(e,exports){e.exports=t},function(e,exports){e.exports=a},function(e,exports){e.exports=o},function(e,exports){e.exports=r},function(e,exports){e.exports=c},function(e,exports){e.exports=s},function(e,exports,n){var t;t=function(require,exports){"use strict";exports.MainCtrl=function(e,n,t,a,o,r,c,s,i,l,u,d,p){var f=this,h=".lp-transactions-list-directive",g={LIST:".lp-transactions-list-container-list",COMBINED:".lp-transactions-list-container-combined",DONUT:".lp-transactions-list-container-donut"},T="lp-transactions-sticky-header",m=function(e){var t=n.find(h).detach();n.find(e).append(t)},C=function(){t(function(){e.$apply()})},b={ACCOUNT:"account",CARD:"card"},S=function(e,n){c.forEach(l.accounts,function(t){n[b[e.toUpperCase()]+"Id"]===t.id&&(l.selected=t)}),C()},y=function(e,n){c.find(e,function(e){return e.id==n.id})||e.push(n)},P=function(){e.lpTransactionsCategory.getAll(),e.lpContacts.loadContacts()},x=function(){e.dropdown={customFields:a.getPreference("accountSelectCustomFields")},e.lpAccounts=l,e.lpTransactionsCategory=s.api(),e.lpTransactions=i.api(),e.lpContacts=new u({contacts:c.resolvePortalPlaceholders(a.getPreference("contactsDataSrc")),lazyload:!0}),e.hideFooter=c.parseBoolean(a.getPreference("hideFooter")),e.showCharts=c.parseBoolean(a.getPreference("showCharts")),e.showAccountSelect=c.parseBoolean(a.getPreference("showAccountSelect")),e.accountsTopBalance=a.getPreference("preferredBalanceView")||"current",e.showDatesAllTransactions=c.parseBoolean(a.getPreference("showDatesAllTransactions"))||!1,e.showCategories=!1,e.showTransactionIcons=c.parseBoolean(a.getPreference("showTransactionIcons")),e.showExportButton=c.parseBoolean(a.getPreference("showExportButton")),e.hideDetailsPreference=c.parseBoolean(a.getPreference("hideTransactionDetails"))||!1,e.offsetTopCorrection=0,e.showScrollbar=c.parseBoolean(a.getPreference("showScrollbar")),e.accountSelectSize="large",e.tabs={list:!0,chart:!1,combined:!1,donut:!1},e.$watch("tabs.list",function(e,n){e&&!n&&m(g.LIST)}),e.$watch("tabs.combined",function(e,n){e&&!n&&m(g.COMBINED)}),e.$watch("tabs.donut",function(e,n){e&&!n&&m(g.DONUT)}),e.stickyHeader=c.parseBoolean(a.getPreference("stickyHeader"))?T:"",l.load().then(function(){if(!l.selected&&l.accounts&&l.accounts.length>0){var n=l.findByAccountNumber(a.getPreference("defaultAccount"))||l.accounts[0];l.selected=n,o.subscribe("launchpad-retail.accountSelected",function(n){n.originType&&"transactions"===n.originType||S(b.ACCOUNT,n),o.subscribe("account-details:account:update",function(n){var t=l.findById(n.id);t&&c.safeApply(e,function(){c.assign(t,n)})})}),o.subscribe("launchpad-retail.cardSelected",function(e){var n=e.account;n.cardId||(n.cardId=n.id),n.cardId&&(y(l.accounts,n),S(b.CARD,n))}),o.subscribe("launchpad-retail.transactions.applyFilter",function(n){e.searchTerm=n.contactName,e.lpTransactions.setFilters(n.filters),e.lpTransactions.loadTransactions(l.selected)}),o.subscribe("launchpad-retail.transactions.newTransferSubmitted",function(){t(function(){e.lpTransactions.clearTransactionsList(),e.lpTransactions.loadMoreTransactions()},3e3)}),o.subscribe("launchpad-retail.donutCategoryChartSelection",function(n){e.lpTransactions.setFilters({category:n.categoryId}),e.lpTransactions.loadTransactions(l.selected)})}else e.classOnAccounts="hidden"}),P(),o.subscribe("launchpad-retail.offsetTopCorrection",function(n){e.offsetTopCorrection=n.offsetTopCorrection}),d.read().success(function(n){e.showCategories=c.parseBoolean(n.pfm)})};e.hasAccounts=function(){return l.accounts.length>0},e.accountChanged=function(){o.publish("launchpad-retail.accountSelected",{accountId:l.selected.id,originType:"transactions",_noBehavior:!0},!0)},e.selectTab=function(n){e.$broadcast("tabSelected",n)},e.transferMoney=function(){o.publish("launchpad-retail.requestMoneyTransfer")},e.onPerformSearch=function(n){e.lpTransactions.setFilters(n),e.lpTransactions.loadTransactions(l.selected)},e.onClearSearch=function(){e.lpTransactions.clearFilters(),e.lpTransactions.loadTransactions(l.selected)},e.onUpdateSearch=function(){e.lpTransactions.updateFilters(),e.lpTransactions.loadTransactions(l.selected)},e.onChangeSort=function(n){e.lpTransactions.sort=n.sort,e.lpTransactions.transactions&&e.lpTransactions.transactions.length&&e.lpTransactions.loadTransactions(l.selected)},e.onExportTransactions=function(n){p(e.lpTransactions.getExportTransactionsLink(n))},f.responsiveCallback=function(n){var t=c(["tile","small"]).indexOf(n)>-1;e.categoryLayout=t?"small":n,e.categorySmallLayout=t},x(),o.subscribe("lpDataFreshnessRefresh",function(e){l.load(!0).then(function(){o.publish("lpDataFreshnessChanged",e)}),P()})},exports.MainCtrl.$inject=["$scope","$element","$timeout","lpWidget","lpCoreBus","i18nUtils","lpCoreUtils","lpTransactionsCategory","lpTransactions","lpAccounts","ContactsModel","lpUsersPreference","lpDownloadTransactionsFile"]}.call(exports,n,exports,e),!(void 0!==t&&(e.exports=t))}])});
//# sourceMappingURL=main.js.map