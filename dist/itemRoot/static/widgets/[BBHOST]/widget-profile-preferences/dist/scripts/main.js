/* Build with bb-lp-cli @ v1.8.1 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-users")):"function"==typeof define&&define.amd?define(["base","ui","core","module-accounts","module-users"],r):"object"==typeof exports?exports["widget-profile-preferences"]=r(require("base"),require("ui"),require("core"),require("module-accounts"),require("module-users")):e["widget-profile-preferences"]=r(e.base,e.ui,e.core,e["module-accounts"],e["module-users"])}(this,function(e,r,o,n,t){return function(e){function r(n){if(o[n])return o[n].exports;var t=o[n]={exports:{},id:n,loaded:!1};return e[n].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var o={};return r.m=e,r.c=o,r.p="",r(0)}([function(e,exports,r){var o;(function(e){o=function(require,exports,e){"use strict";function o(e,r){e&&e.model&&e.model.name&&r.publish("cxp.item.loaded",{id:e.model.name})}o.$inject=["lpWidget","lpCoreBus"],e.name="widget-profile-preferences";var n=r(2),t=r(3),c=r(4),i=r(5),l=r(6),u=[c.name,t.name,i.name,l.name];e.exports=n.createModule(e.name,u).controller(r(7)).run(o)}.call(exports,r,exports,e),!(void 0!==o&&(e.exports=o))}).call(exports,r(1)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(r,exports){r.exports=e},function(e,exports){e.exports=r},function(e,exports){e.exports=o},function(e,exports){e.exports=n},function(e,exports){e.exports=t},function(e,exports,r){var o;o=function(require,exports,e){"use strict";exports.PreferencesController=function(e,r,o,n,t,c,i,l,u,a,s){function p(e){if(!e)return{};var r,o=[];try{var t=e.split(",");return g.each(t,function(e){r=e.split(":"),g.each(r,g.trim),2===r.length&&o.push({value:r[0],text:n.instant(r[1])})}),o}catch(c){l.captureException(c)}}function f(){var r=p(v),o=p(b),t=p(h);u.emptyPlaceholderText=n.instant("Nothing selected"),e.control={preferredName:{value:m.preferredName,errors:[],loading:!1,validate:function(e){return e.length<3?"invalid_name":!0}},locale:{value:m.lpLocale,options:r,loading:!1},defaultAccount:{value:m.defaultAccount,options:d,loading:!1},preferredBalanceView:{value:m.preferredBalanceView,options:o,loading:!1},pfm:{value:m.pfm,options:t,loading:!1}}}var d,m,x=r,g=c,v=x.getPreference("localeSelector"),b=x.getPreference("balanceSelector"),h=x.getPreference("categorizationSelector"),C=!1;a.setConfig({accountsEndpoint:x.getPreference("accountsDataSrc")}),a.load().then(function(e){d=e,s.read().then(function(e){m=e.data,m.pfmEnabled=g.parseBoolean(m.pfmEnabled),f(),C=!0})}),i.subscribe(t.LOCALE_CHANGE_EVENT,function(){C&&o(f,10)}),e.save=function(e,r){s.put(e,r).then(function(o){m[e]=r,"lpLocale"===e&&i.publish(t.LOCALE_CHANGE_EVENT,r)})}},exports.PreferencesController.$inject=["$scope","lpWidget","$timeout","lpCoreI18n","lpCoreI18nUtils","lpCoreUtils","lpCoreBus","lpCoreError","dropdownSelectConfig","AccountsModel","lpUsersPreference"]}.call(exports,r,exports,e),!(void 0!==o&&(e.exports=o))}])});
//# sourceMappingURL=main.js.map