/* widget-p2p-transactions@v3.0.11 build with â™¥ by bb-lp-cli@v1.9.12 */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("base"),require("core"),require("ui"),require("module-contacts"),require("module-transactions"),require("module-p2p")):"function"==typeof define&&define.amd?define(["base","core","ui","module-contacts","module-transactions","module-p2p"],n):"object"==typeof exports?exports["widget-p2p-transactions"]=n(require("base"),require("core"),require("ui"),require("module-contacts"),require("module-transactions"),require("module-p2p")):e["widget-p2p-transactions"]=n(e.base,e.core,e.ui,e["module-contacts"],e["module-transactions"],e["module-p2p"])}(this,function(e,n,o,t,r,a){return function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var o={};return n.m=e,n.c=o,n.p="/_karma_webpack_//",n(0)}([function(e,exports,n){e.exports=n(1)},function(e,exports,n){var o;(function(e){"use strict";o=function(require,exports,e){function o(e,n,o,t){var r={transactionsEndpoint:e.resolvePortalPlaceholders(n.getPreference("transactionsDataSrc")),transactionMessagesEndpoint:e.resolvePortalPlaceholders(n.getPreference("messageSrc")),pageSize:10,locale:n.getPreference("locale")};o.setConfig(r),n&&n.model&&n.model.name&&t.publish("cxp.item.loaded",{id:n.model.name})}o.$inject=["lpCoreUtils","lpWidget","lpP2PTransactions","lpCoreBus"],e.name="widget-p2p-transactions";var t=n(3),r=n(4),a=n(5),s=n(6),i=n(7),l=n(8),c=[r.name,a.name,s.name,i.name,l.name];e.exports=t.createModule(e.name,c).controller(n(9)).run(o)}.call(exports,n,exports,e),!(void 0!==o&&(e.exports=o))}).call(exports,n(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(n,exports){n.exports=e},function(e,exports){e.exports=n},function(e,exports){e.exports=o},function(e,exports){e.exports=t},function(e,exports){e.exports=r},function(e,exports){e.exports=a},function(e,exports,n){var o;o=function(require,exports,e){"use strict";function n(e){e.$$phase||e.$apply()}exports.MainCtrl=function(e,o,t,r,a,s,i,l){var c=i,u=function(o){e.transactionsModel=s.api(),e.transactionsModel.loadTransactions([o]).then(function(o){n(e)})},p=a.api("enroll-service").setConfig({url:l.resolvePortalPlaceholders(r.getPreference("p2pEnrollmentEndpoint"))});e.transferMoney=function(){c.publish("launchpad-retail.requestMoneyTransfer"),c.publish("launchpad-retail.requestMoneyTransfer.setTab",{tab:"P2P_EMAIL"})},e.loadMoreTransactions=function(){e.transactionsModel.allowMoreResults()&&e.transactionsModel.loadMoreTransactions()},e.enroll=function(){c.publish("launchpad-retail.openP2PEnrollment")},c.subscribe("launchpad-retail.p2pTransactions.newTransferSubmitted",function(){t(function(){e.transactionsModel.clearTransactionsList(),e.transactionsModel.loadMoreTransactions()},3e3)});var d=function(){e.hideFooter=l.parseBoolean(r.getPreference("hideFooter")),e.locale=r.getPreference("locale"),e.title=r.getPreference("title"),e.userEnrolledForP2P=!1,p.getAll().then(function(n){e.userEnrolledForP2P=!0,u(n.accountId)},function(n){404===n.status&&(e.userEnrolledForP2P=!1)}),e.hideFooter&&i.subscribe("p2p:transfer:money",e.transferMoney)};d()},exports.MainCtrl.$inject=["$scope","$element","$timeout","lpWidget","lpP2P","lpP2PTransactions","lpCoreBus","lpCoreUtils"]}.call(exports,n,exports,e),!(void 0!==o&&(e.exports=o))}])});
//# sourceMappingURL=main.js.map