{"version":3,"sources":["webpack:///widget-navfooter/webpack/universalModuleDefinition","webpack:///widget-navfooter/scripts/main.js","webpack:///widget-navfooter/webpack/bootstrap 50b478af22a78aa97e86","webpack:///widget-navfooter/./scripts/main.js","webpack:///widget-navfooter/external \"jquery\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_RESULT__","$","WARNING_HTML","NavFooter","widget","$widget","body","prototype","init","self","url","window","location","href","lpWidget","bd","designMode","navRoot","getPreference","find","children","is","be","utils","ajax","b$","portal","config","serverRoot","portalName","model","name","success","responseHTML","html","contents","links","top","pm","Object","keys","filter","linkname","setPreference","save","refreshHTML","off","on","ev","Nav","URLHandler","attr","lastUrlPart","substr","lastIndexOf","isActive","indexOf","parent","addClass","widgetWrapper","undefined"],"mappings":";CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,WACA,kBAAAC,gBAAAC,IACAD,QAAA,UAAAJ,GACA,gBAAAC,SACAA,QAAA,oBAAAD,EAAAG,QAAA,WAEAJ,EAAA,oBAAAC,EAAAD,EAAA,SACCO,KAAA,SAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAT,OAGA,IAAAC,GAAAS,EAAAD,IACAT,WACAW,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAZ,EAAAD,QAAAC,IAAAD,QAAAQ,GAGAP,EAAAW,QAAA,EAGAX,EAAAD,QAvBA,GAAAU,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASP,EAAQD,QAASQ,GAE/BP,EAAOD,QAAUQ,EAAoB,IAKhC,SAASP,EAAQD,QAASQ,GAE/B,GAAIS,EEnDLA,GAAQ,SAAUf,QAASF,QAASC,GAEhC,YAEA,IAAIiB,GAAIV,EAAQ,GAKZW,EACA,oHAUAC,EAAY,SAAUC,GACtBhB,KAAKgB,OAASA,EACdhB,KAAKiB,QAAUJ,EAAEG,EAAOE,MAG5BH,GAAUI,UAAUC,KAAO,WACvB,GAAIC,GAAOrB,KACPsB,EAAMC,OAAOC,SAASC,KACtBC,EAAW1B,KAAKgB,MAEpB,IAAsB,SAAlBW,GAAGC,WAAuB,CAM1B,GAAIC,GAAUH,EAASI,cAAc,UAErC,IAAID,EAkBK7B,KAAKiB,QAAQc,KAAK,eAAeC,WAAWC,GAAG,WACpDC,GAAGC,MAAMC,MACLd,IAAKe,GAAGC,OAAOC,OAAOC,WAAa,YAAcH,GAAGC,OAAOG,WAAa,YAAcf,EAASgB,MAAMC,KAAO,QAC5GC,QAAS,SAAUC,GACf,GAAIC,GAAOjC,EAAEgC,GAAcd,KAAK,eAAeC,WAAWC,GAAG,UACzDnB,EAAeD,EAAEgC,GAAcd,KAAK,mBAAmBgB,UAC3D1B,GAAKJ,QAAQ6B,KAAKA,UAxBjB,CACT,GAAIE,GAAQC,KAAOA,IAAItB,IAAMsB,IAAItB,GAAGuB,IAAMD,IAAItB,GAAGuB,GAAGR,OAASO,IAAItB,GAAGuB,GAAGR,MAAMM,KAC1EA,KACCnB,EAAUsB,OAAOC,KAAKJ,GAAOK,OAAO,SAAS/C,GACzC,MAA8B,qBAAvB0C,EAAM1C,GAAIgD,WAElBzB,GAAWA,EAAQ,KAClBH,EAAS6B,cAAc,UAAW1B,EAAQ,IAC1CH,EAASgB,MAAMc,KAAK,WAChB9B,EAAS+B,mBAuC7B,MAfApC,GAAKJ,QACAc,KAAK,KACL2B,MACAC,GAAG,QAAS,SAAUC,GACnB,MAAO1B,IAAG2B,IAAIC,WAAW9D,QAE5BqD,OAAO,WACJ,GAAI5B,GAAOZ,EAAEb,MAAM+D,KAAK,QACpBC,EAAc1C,EAAI2C,OAAO3C,EAAI4C,YAAY,MACzCC,EAAW1C,EAAK2C,QAAQJ,KAC5B,OAAOG,KAEVE,SACAC,SAAS,UAEPtE,MAGXJ,EAAOD,QAAU,SAASqB,GACtB,GAAIuD,GAAgB,GAAIxD,GAAUC,EAElC,OADAuD,GAAcnD,OACPmD,IA5Ff/D,KAAAb,QAAAQ,EAAAR,QAAAC,KAAA4E,SAAA5D,IAAAhB,EAAAD,QAAAiB,KFwJM,SAAShB,EAAQD,SGpKvBC,EAAAD,QAAAM","file":"scripts/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-navfooter\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"widget-navfooter\"] = factory(root[\"jquery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-navfooter\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"widget-navfooter\"] = factory(root[\"jquery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\t\n\t/*global bd*/\n\t\n\t/**\n\t *  ----------------------------------------------------------------\n\t *  Copyright © Backbase B.V.\n\t *  ----------------------------------------------------------------\n\t *  Author : Backbase R&D - Amsterdam - New York\n\t *  Filename : main.js\n\t *  Description: Copy of out of the box navigation, with a few tweaks\n\t *  ----------------------------------------------------------------\n\t */\n\t\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, module) {\n\t\n\t    'use strict';\n\t\n\t    var $ = __webpack_require__(2);\n\t    /**\n\t     * @const\n\t     * @type {string}\n\t     */\n\t    var WARNING_HTML = '<div class=\"alert alert-block\">' + '<h4>Warning!</h4>' + '<p>This navigation bar\\'s root menu couldn\\'t be found.</p>' + '</div>';\n\t\n\t    /**\n\t     * @param widget\n\t     * @constructor\n\t     */\n\t\n\t    var NavFooter = function NavFooter(widget) {\n\t        this.widget = widget;\n\t        this.$widget = $(widget.body);\n\t    };\n\t\n\t    NavFooter.prototype.init = function () {\n\t        var self = this;\n\t        var url = window.location.href;\n\t        var lpWidget = this.widget;\n\t\n\t        if (bd.designMode === 'true') {\n\t\n\t            /*\n\t             * If this is the first initialization we need to\n\t             */\n\t\n\t            var navRoot = lpWidget.getPreference('navRoot');\n\t\n\t            if (!navRoot) {\n\t                var links = top && top.bd && top.bd.pm && top.bd.pm.model && top.bd.pm.model.links;\n\t                if (links) {\n\t                    navRoot = Object.keys(links).filter(function (id) {\n\t                        return links[id].linkname === 'navroot_mainmenu';\n\t                    });\n\t                    if (navRoot && navRoot[0]) {\n\t                        lpWidget.setPreference('navRoot', navRoot[0]);\n\t                        lpWidget.model.save(function () {\n\t                            lpWidget.refreshHTML();\n\t                        });\n\t                    }\n\t                }\n\t            }\n\t            /*\n\t             * If in design mode and default root link is set will load a static html and replace the widget-body with the loaded html\n\t             * -> it is only replaced if it is empty\n\t             */\n\t            else if (this.$widget.find('.bp-g-model').children().is(':empty')) {\n\t                    be.utils.ajax({\n\t                        url: b$.portal.config.serverRoot + '/portals/' + b$.portal.portalName + '/widgets/' + lpWidget.model.name + '.html',\n\t                        success: function success(responseHTML) {\n\t                            var html = $(responseHTML).find('.bp-g-model').children().is(':empty') ? WARNING_HTML : $(responseHTML).find('.bp-widget-body').contents();\n\t                            self.$widget.html(html);\n\t                        }\n\t                    });\n\t                }\n\t        }\n\t\n\t        /*\n\t         * activate the current navigation item by comparing the URL with the anchors href and setting a bootstrap class\n\t         */\n\t        self.$widget.find('a').off().on('click', function (ev) {\n\t            return be.Nav.URLHandler(this); //eslint-disable-line new-cap\n\t        }).filter(function () {\n\t            var href = $(this).attr('href');\n\t            var lastUrlPart = url.substr(url.lastIndexOf('/'));\n\t            var isActive = href.indexOf(lastUrlPart) > -1;\n\t            return isActive;\n\t        }).parent().addClass('active');\n\t\n\t        return this;\n\t    };\n\t\n\t    module.exports = function (widget) {\n\t        var widgetWrapper = new NavFooter(widget);\n\t        widgetWrapper.init();\n\t        return widgetWrapper;\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** scripts/main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 50b478af22a78aa97e86\n **/","/*global bd*/\n\n/**\n *  ----------------------------------------------------------------\n *  Copyright © Backbase B.V.\n *  ----------------------------------------------------------------\n *  Author : Backbase R&D - Amsterdam - New York\n *  Filename : main.js\n *  Description: Copy of out of the box navigation, with a few tweaks\n *  ----------------------------------------------------------------\n */\n\ndefine( function (require, exports, module) {\n\n    'use strict';\n\n    var $ = require('jquery');\n    /**\n     * @const\n     * @type {string}\n     */\n    var WARNING_HTML =\n        '<div class=\"alert alert-block\">' +\n            '<h4>Warning!</h4>' +\n            '<p>This navigation bar\\'s root menu couldn\\'t be found.</p>' +\n        '</div>';\n\n    /**\n     * @param widget\n     * @constructor\n     */\n\n    var NavFooter = function (widget) {\n        this.widget = widget;\n        this.$widget = $(widget.body);\n    };\n\n    NavFooter.prototype.init = function () {\n        var self = this;\n        var url = window.location.href;\n        var lpWidget = this.widget;\n\n        if (bd.designMode === 'true') {\n\n            /*\n             * If this is the first initialization we need to\n             */\n\n            var navRoot = lpWidget.getPreference('navRoot');\n\n            if(!navRoot) {\n                var links = top && top.bd && top.bd.pm && top.bd.pm.model && top.bd.pm.model.links;\n                if(links) {\n                    navRoot = Object.keys(links).filter(function(id){\n                        return links[id].linkname === 'navroot_mainmenu';\n                    });\n                    if(navRoot && navRoot[0]){\n                        lpWidget.setPreference('navRoot', navRoot[0]);\n                        lpWidget.model.save(function(){\n                            lpWidget.refreshHTML();\n                        });\n                    }\n                }\n            }\n            /*\n             * If in design mode and default root link is set will load a static html and replace the widget-body with the loaded html\n             * -> it is only replaced if it is empty\n             */\n            else if (this.$widget.find('.bp-g-model').children().is(':empty')) {\n                be.utils.ajax({\n                    url: b$.portal.config.serverRoot + '/portals/' + b$.portal.portalName + '/widgets/' + lpWidget.model.name + '.html',\n                    success: function (responseHTML) {\n                        var html = $(responseHTML).find('.bp-g-model').children().is(':empty') ?\n                            WARNING_HTML : $(responseHTML).find('.bp-widget-body').contents();\n                        self.$widget.html(html);\n                    }\n                });\n            }\n        }\n\n        /*\n         * activate the current navigation item by comparing the URL with the anchors href and setting a bootstrap class\n         */\n        self.$widget\n            .find('a')\n            .off()\n            .on('click', function (ev) {\n                return be.Nav.URLHandler(this);//eslint-disable-line new-cap\n            })\n            .filter(function () {\n                var href = $(this).attr('href');\n                var lastUrlPart = url.substr(url.lastIndexOf('/'));\n                var isActive = href.indexOf(lastUrlPart) > -1;\n                return isActive;\n            })\n            .parent()\n            .addClass('active');\n\n        return this;\n    };\n\n    module.exports = function(widget) {\n        var widgetWrapper = new NavFooter(widget);\n        widgetWrapper.init();\n        return widgetWrapper;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/main.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jquery\"\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}