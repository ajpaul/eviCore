/* widget-estatement-list@v2.4.0 build with â™¥ by bb-lp-cli@v1.9.12 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core"),require("ui"),require("module-users"),require("module-estatements")):"function"==typeof define&&define.amd?define(["base","core","ui","module-users","module-estatements"],t):"object"==typeof exports?exports["widget-estatement-list"]=t(require("base"),require("core"),require("ui"),require("module-users"),require("module-estatements")):e["widget-estatement-list"]=t(e.base,e.core,e.ui,e["module-users"],e["module-estatements"])}(this,function(e,t,n,i,o){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/_karma_webpack_//",t(0)}([function(e,exports,t){e.exports=t(1)},function(e,exports,t){var n;(function(e){"use strict";n=function(require,exports,e){function n(e,t){t.setConfig({estatementListEndpoint:e.getPreference("estatementListEndpoint"),estatementEnrollmentEndpoint:e.getPreference("estatementEnrollmentEndpoint")})}n.$inject=["lpWidget","lpEstatements"],e.name="widget-estatement-list";var i=t(3),o=t(4),r=t(5),s=t(6),a=t(7),c=[o.name,r.name,a.name,s.name];e.exports=i.createModule(e.name,c).directive(t(8)).controller(t(9)).run(n)}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}).call(exports,t(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,exports){t.exports=e},function(e,exports){e.exports=t},function(e,exports){e.exports=n},function(e,exports){e.exports=i},function(e,exports){e.exports=o},function(e,exports,t){var n;n=function(require,exports){"use strict";exports.lpEstatementsLink=function(){function e(){return['<a href="{{link.href}}" target="_blank" ng-if="!isDisabled" title="{{type}}">','<i class="fa {{iconClass}} {{type}}"></i>',"</a>",'<i ng-if="isDisabled" class="fa {{iconClass}} {{type}} disabled"></i>'].join("")}function t(e,t,i){e.type=e.link.type.split("/")[1],e.iconClass=n[e.type],e.isDisabled="null&admin=0"===e.link.href}var n={pdf:"fa-file-pdf-o",html:"fa-eye"};return{restrict:"AE",scope:{link:"="},template:e(),link:t}}}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))},function(e,exports,t){var n;n=function(require,exports){"use strict";var e=t(3).utils;exports.MainCtrl=function(t,n,i,o,r,s,a,c){var l=this,u=10,f=c.createException("EstatementsError");l.VIEW={MAIN:"MAIN",DETAIL:"DETAIL",NO_RESULTS:"NO_RESULTS",ERROR:"ERROR"};var d=function(){l.estatementsLoading=!0;var e=i.getAll();return e.then(function(e){l.estatementList=e},function(){c.throwException(new f("Unable to fetch data."))})["finally"](function(){l.estatementsLoading=!1}),e},m=function(){var e=!!l.estatementList.length,t=l.VIEW;l.setCurrentView(e?t.MAIN:t.NO_RESULTS)},p=function(e){c.captureException(e),l.setCurrentView(l.VIEW.ERROR)},g=function(){l.initializing=!0,l.enrolled=null,l.estatementList=null,l.estatementsLoading=!0,l.categoryStatements=null,l.setCurrentView(l.VIEW.MAIN);var e=t.getResolvedPreference("detailsEndpoint")||n.root+"/services/rest/v1/party-data-management/party",i=o.get(e).then(function(e){l.userName=[e.firstName,e.lastName].join(" ")}),s=d();r.all([i,s]).then(m,p)["finally"](function(){l.initializing=!1})},E=function(){l.docs.length===l.categoryStatements.documents.length&&(l.stopLoadingDocs=!0)},y=function(){l.stopLoadingDocs=!1,l.docs=l.categoryStatements.documents.slice(0,u),E()};l.reload=function(){l.setCurrentView(l.VIEW.MAIN),l.initializing=!0,d().then(m,p)["finally"](function(){l.initializing=!1})},l.showCurrentView=function(e){return l.currentView===e},l.setCurrentView=function(e){l.currentView=e},l.showCategoryStatements=function(t){l.categoryStatements=e(l.estatementList).findWhere({name:t}),y(),l.setCurrentView(l.VIEW.DETAIL),a(function(){s.find(".category-detail-body")[0].scrollTop=0})},l.sliceDocuments=function(e,t){return e.slice(0,t)},l.loadMoreDocuments=function(){l.docs=l.docs.concat(l.categoryStatements.documents.slice(l.docs.length,l.docs.length+u)),E()},g()},exports.MainCtrl.$inject=["lpWidget","lpPortal","lpEstatements","lpUserDetails","$q","$element","$timeout","lpCoreError"]}.call(exports,t,exports,e),!(void 0!==n&&(e.exports=n))}])});
//# sourceMappingURL=main.js.map