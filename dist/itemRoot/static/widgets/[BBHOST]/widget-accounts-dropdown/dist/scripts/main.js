/* widget-accounts-dropdown@v1.9.0 build with â™¥ by bb-lp-cli@v1.9.12 */
!function(e,c){"object"==typeof exports&&"object"==typeof module?module.exports=c(require("base"),require("core"),require("ui"),require("module-accounts")):"function"==typeof define&&define.amd?define(["base","core","ui","module-accounts"],c):"object"==typeof exports?exports["widget-accounts-dropdown"]=c(require("base"),require("core"),require("ui"),require("module-accounts")):e["widget-accounts-dropdown"]=c(e.base,e.core,e.ui,e["module-accounts"])}(this,function(e,c,t,o){return function(e){function c(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,c),n.loaded=!0,n.exports}var t={};return c.m=e,c.c=t,c.p="/_karma_webpack_//",c(0)}([function(e,exports,c){e.exports=c(1)},function(e,exports,c){var t;(function(e){"use strict";t=function(require,exports,e){function t(e,c,t,o){c.setConfig({accountsEndpoint:e.getPreference("accountsDataSrc"),locale:e.getPreference("locale")}),o.setConfig({defaultAccountId:e.getPreference("defaultAccountId"),showAllAccountsItem:e.getPreference("showAllAccountsItem")}),t.publish("cxp.item.loaded",{id:e.model.name})}t.$inject=["lpWidget","lpAccounts","lpCoreBus","lpAccountsModel"],e.name="widgets-accounts-dropdown";var o=c(3),n=c(4),u=c(5),r=c(6),s=[n.name,u.name,r.name];e.exports=o.createModule(e.name,s).controller(c(7)).run(t)}.call(exports,c,exports,e),!(void 0!==t&&(e.exports=t))}).call(exports,c(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(c,exports){c.exports=e},function(e,exports){e.exports=c},function(e,exports){e.exports=t},function(e,exports){e.exports=o},function(e,exports,c){var t;t=function(require,exports,e){"use strict";exports.MainCtrl=function(e,c,t,o,n){var u=this;u.accounts=[],u.selectedAccount={};var r=function(e){e&&e.selected&&e.selected.id&&(u.selectedAccount=c.assign({},e.selected,{external:!0}),o.publish("accounts-dropdown.select-account",u.selectedAccount))},s=function(e){if(!e.accountsDropdown){var c=n.onAccountSelected(e);r(c)}};o.subscribe("launchpad-retail.accountSelected",s),o.subscribe("launchpad-retail.cardSelected",s),n.load().then(function(t){u.accounts=c.clone(t.accounts),u.selectedAccount=c.clone(t.selected),o.subscribe("account-details:account:update",function(t){var o=n._findAccountById(t.id);o&&c.safeApply(e,function(){c.assign(o,t)})}),o.publish("lpAccounts.loaded",u.accounts),e.$watch("mainCtrl.selectedAccount",function(e){e&&!e.external&&o.publish("launchpad-retail.accountSelected",{accountsDropdown:!0,accountId:u.selectedAccount.id,allAccounts:u.selectedAccount.hasOwnProperty("ids")&&!!u.selectedAccount.ids,_noBehavior:!0},!0)})},function(e){t.captureException(e)})},exports.MainCtrl.$inject=["$scope","lpCoreUtils","lpCoreError","lpCoreBus","lpAccountsModel"]}.call(exports,c,exports,e),!(void 0!==t&&(e.exports=t))}])});
//# sourceMappingURL=main.js.map