/* Build with bb-lp-cli @ v1.5.0 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core"),require("ui")):"function"==typeof define&&define.amd?define(["base","core","ui"],t):"object"==typeof exports?exports["widget-video"]=t(require("base"),require("core"),require("ui")):e["widget-video"]=t(e.base,e.core,e.ui)}(this,function(e,t,i){return function(e){function t(o){if(i[o])return i[o].exports;var r=i[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,exports,t){var i;(function(e){i=function(require,exports,e){"use strict";e.name="widget-video";var i=t(2),o=t(3),r=t(4),n=[o.name,r.name];e.exports=i.createModule(e.name,n).constant(t(5)).controller(t(6)).config(t(7))}.call(exports,t,exports,e),!(void 0!==i&&(e.exports=i))}).call(exports,t(1)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,exports){t.exports=e},function(e,exports){e.exports=t},function(e,exports){e.exports=i},function(e,exports,t){var i;i=function(require,exports,e){"use strict";exports.lpEnabledVideoUrls={youtube:"http://www.youtube.com/embed/",vimeo:"http://player.vimeo.com/video/"}}.call(exports,t,exports,e),!(void 0!==i&&(e.exports=i))},function(e,exports,t){var i;i=function(require,exports){"use strict";function e(e,t,i,o,r,n){this.$scope=e,this.widget=t,this.error=o,this.bus=i,this.responsive=r,this.enabledVideoUrls=n,this.init()}e.$inject=["$scope","lpWidget","lpCoreBus","lpCoreError","lpUIResponsive","lpEnabledVideoUrls"],e.prototype.init=function(){var e=function(){this.showError=!1,this.updateUrl(),this.updateHeight(),this.$scope.$$phase||this.$scope.$digest()}.bind(this);this.widget.addEventListener("preferencesSaved",e),this.responsive.enable(this.widget.body).rule({any:e});for(var t=this.widget.body.parentNode;t;){var i=t.viewController;i&&"PanelContainer"===i.nodeName&&i.parentNode&&this.bus.subscribe(i.parentNode.model.name+"-DeckPanelLoaded",function(t){this.model.name===t&&e()}.bind(i)),t=t.parentNode}e()},e.prototype.throwException=function(e){this.showError=e,this.error.throwExceptionAsync(e)},e.prototype.updateHeight=function(){var e=parseInt(this.widget.getPreference("height"),10),t=parseInt(this.widget.getPreference("width"),10),i=e/t;e&&t&&!isNaN(i)||this.throwException("Height or Width is zero, undefined on NaN!"),this.height=Math.round(this.widget.getWidth()*i)},e.prototype.updateUrl=function(){var e=this.widget.getPreference("source"),t=this.enabledVideoUrls[e],i=this.widget.getPreference("videoId");return i?t||this.throwException("Source is undefined or doesn't have a handler!"):this.throwException("videoId is undefined!"),this.url=t+i},exports.MainCtrl=e}.call(exports,t,exports,e),!(void 0!==i&&(e.exports=i))},function(e,exports,t){var i;i=function(require,exports,e){var i=t(2).utils,o=t(5).lpEnabledVideoUrls;e.exports=function(e){var t=i(o).values().map(function(e){return e+"**"}).value().concat("self");e.resourceUrlWhitelist(t)},e.exports.$inject=["$sceDelegateProvider"]}.call(exports,t,exports,e),!(void 0!==i&&(e.exports=i))}])});
//# sourceMappingURL=main.js.map