/* Build with bb-lp-cli @ v1.6.0 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("base"),require("core"),require("ui"),require("module-users")):"function"==typeof define&&define.amd?define(["base","core","ui","module-users"],t):"object"==typeof exports?exports["widget-profile-summary"]=t(require("base"),require("core"),require("ui"),require("module-users")):e["widget-profile-summary"]=t(e.base,e.core,e.ui,e["module-users"])}(this,function(e,t,o,r){return function(e){function t(r){if(o[r])return o[r].exports;var i=o[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,exports,t){var o;(function(e){o=function(require,exports,e){"use strict";function o(e){e.publish("launchpad-retail.behavior",{tag:"signedin"})}e.name="widget-profile-summary";var r=t(2),i=t(3),n=t(4),a=t(5),l=t(6),s=[i.name,n.name,a.name,l.name];o.$inject=["lpCoreBus"],e.exports=r.createModule(e.name,s).constant(t(8)).controller(t(9)).run(o)}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))}).call(exports,t(1)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,exports){t.exports=e},function(e,exports){e.exports=t},function(e,exports){e.exports=o},function(e,exports){e.exports=r},function(e,exports,t){var o;(function(e){o=function(require,exports,e){"use strict";e.name="widget-profile-summary.component.last-login";var o=t(2),r=t(3),i=[r.name];e.exports=o.createModule(e.name,i).directive(t(7))}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))}).call(exports,t(1)(e))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";var o=t(2).utils,r="MMM. Do, hh:mmA";exports.lpLastLogin=function(e,t,i){function n(){return l}function a(t,n,a){var l;t.show=!0,l=t.$watch("lastLoginDateTime",function(n){if(n){t.formattedDatetime=o.date(n).format(t.dateFormat||r);var a=parseInt(t.hideAfter,10);!i.isNaN(a)&&a>0&&e(function(){t.show=!1},1e3*a),l()}})}var l=['<div class="lp-last-login" ng-show="show">','    <span class="lp-last-login__label" lp-i18n="Last seen"></span> : <span class="lp-last-login__datetime">{{ formattedDatetime }}</span>',"</div>"].join("");return{restrict:"AE",scope:{lastLoginDateTime:"=lpLastLogin",hideAfter:"=",dateFormat:"@"},link:a,template:n}},exports.lpLastLogin.$inject=["$timeout","$parse","lpCoreUtils"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";exports.PROFILE_SUMMARY_DEFAULTS={PROFILE_IMG_SIZE:"42",PROFILE_IMG_BG:"#ccc"}}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))},function(e,exports,t){var o;o=function(require,exports,e){"use strict";exports.profileSummaryController=function(e,t,o,r,i,n,a,l){var s=a,u=n;e.model={username:"Admin"},e.lastLoginDateTimeShow=u.parseBoolean(t.getResolvedPreference("lastLoginDateTimeShow")),e.lastLoginDateTimeHideAfter=t.getResolvedPreference("lastLoginDateTimeHideAfter"),e.profileImgSize=parseInt(t.getPreference("profileImgSize"),10)||l.PROFILE_IMG_SIZE,e.profileImgBg=t.getPreference("profileImgBg")||l.PROFILE_IMG_BG;var c=t.getResolvedPreference("profileLink");e.profileLink=c||null;var p=o.userId||"Anonymous";u.extend(e.model,{username:p}),i.get().then(function(t){var o=t.data;e.model.preferredName=o.preferredName||u.capitalize(o.firstName)||u.capitalize(e.model.username),e.model.photo=o.photoData||(o.photoUrl?decodeURIComponent(o.photoUrl):null),e.model.lastLoginDateTime=o.details&&o.details.lastLoginDateTime})["catch"](function(){e.model.preferredName=u.capitalize(e.model.username)}),e.logout=function(){r.logOut()},e.responsiveRules=[{min:0,max:110,size:"xs"},{min:101,size:"small"},{min:201,size:"medium"}],e.onSizeChange=function(t){e.responsive=t},e.viewProfile=function(){s.publish("launchpad-retail.viewProfile",{originType:"profileSummary"},!0)}},exports.profileSummaryController.$inject=["$scope","lpWidget","lpPortal","lpUsersAuthentication","lpUsersPreference","lpCoreUtils","lpCoreBus","PROFILE_SUMMARY_DEFAULTS"]}.call(exports,t,exports,e),!(void 0!==o&&(e.exports=o))}])});
//# sourceMappingURL=main.js.map