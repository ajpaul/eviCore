{"version":3,"sources":["webpack:///widget-profile-summary/webpack/universalModuleDefinition","webpack:///widget-profile-summary/scripts/main.js","webpack:///widget-profile-summary/webpack/bootstrap d6fb13f3ee287be68131","webpack:///widget-profile-summary/./scripts/main.js","webpack:///widget-profile-summary/(webpack)/buildin/module.js","webpack:///widget-profile-summary/./scripts/components/last-login/main.js","webpack:///widget-profile-summary/./scripts/components/last-login/directives.js","webpack:///widget-profile-summary/./scripts/constants.js","webpack:///widget-profile-summary/./scripts/controllers.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_5__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_RESULT__","run","lpCoreBus","publish","tag","name","base","core","ui","users","lastLogin","deps","$inject","createModule","constant","controller","undefined","webpackPolyfill","deprecate","paths","children","directive","utils","defaultDateFormat","lpLastLogin","$timeout","$parse","lpCoreUtils","templateFn","tmpl","linkFn","scope","element","attrs","lastLoginDateTimeUnregister","show","$watch","datetime","formattedDatetime","date","format","dateFormat","lapse","parseInt","hideAfter","isNaN","join","restrict","lastLoginDateTime","link","template","PROFILE_SUMMARY_DEFAULTS","PROFILE_IMG_SIZE","PROFILE_IMG_BG","profileSummaryController","$scope","lpWidget","lpPortal","lpUsersAuthentication","lpUsersPreference","bus","model","username","lastLoginDateTimeShow","parseBoolean","getResolvedPreference","lastLoginDateTimeHideAfter","profileImgSize","getPreference","profileImgBg","profileLink","userId","extend","get","then","response","preferences","data","preferredName","capitalize","firstName","photo","photoData","photoUrl","decodeURIComponent","details","logout","logOut","responsiveRules","min","max","size","onSizeChange","responsive","viewProfile","originType"],"mappings":"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","file":"scripts/main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-users\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\", \"ui\", \"module-users\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-profile-summary\"] = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-users\"));\n\telse\n\t\troot[\"widget-profile-summary\"] = factory(root[\"base\"], root[\"core\"], root[\"ui\"], root[\"module-users\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-users\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"base\", \"core\", \"ui\", \"module-users\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"widget-profile-summary\"] = factory(require(\"base\"), require(\"core\"), require(\"ui\"), require(\"module-users\"));\n\telse\n\t\troot[\"widget-profile-summary\"] = factory(root[\"base\"], root[\"core\"], root[\"ui\"], root[\"module-users\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\n\t    'use strict';\n\n\t    module.name = 'widget-profile-summary';\n\n\t    var base = __webpack_require__(2);\n\t    var core = __webpack_require__(3);\n\t    var ui = __webpack_require__(4);\n\t    var users = __webpack_require__(5);\n\t    var lastLogin = __webpack_require__(6);\n\n\t    var deps = [\n\t        core.name,\n\t        ui.name,\n\t        users.name,\n\t        lastLogin.name\n\t    ];\n\n\t    // @ngInject\n\t    function run(lpCoreBus) {\n\t        // triggering event that widget was loaded after signing in\n\t        lpCoreBus.publish('launchpad-retail.behavior', {tag: 'signedin'});\n\t    }\n\t    run.$inject = [\"lpCoreBus\"];\n\n\t    module.exports = base.createModule(module.name, deps)\n\t        .constant( __webpack_require__(8) )\n\t        .controller( __webpack_require__(9) )\n\t        .run( run );\n\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\n\t    'use strict';\n\n\t    module.name = 'widget-profile-summary.component.last-login';\n\n\t    var base = __webpack_require__(2);\n\t    var core = __webpack_require__(3);\n\n\t    var deps = [\n\t        core.name\n\t    ];\n\n\t    module.exports = base.createModule(module.name, deps)\n\t        .directive( __webpack_require__(7) );\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)(module)))\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\n\t    'use strict';\n\n\t    var utils = __webpack_require__(2).utils;\n\t    var defaultDateFormat = 'MMM. Do, hh:mmA';\n\n\t    // @ngInject\n\t    exports.lpLastLogin = function($timeout, $parse, lpCoreUtils) {\n\t        var tmpl = [\n\t            '<div class=\"lp-last-login\" ng-show=\"show\">',\n\t            '    <span class=\"lp-last-login__label\" lp-i18n=\"Last seen\"></span> : <span class=\"lp-last-login__datetime\">{{ formattedDatetime }}</span>',\n\t            '</div>'\n\t        ].join('');\n\n\t        function templateFn() {\n\t            return tmpl;\n\t        }\n\n\t        function linkFn(scope, element, attrs) {\n\t            var lastLoginDateTimeUnregister;\n\n\t            scope.show = true;\n\n\t            lastLoginDateTimeUnregister = scope.$watch('lastLoginDateTime', function(datetime) {\n\t                if (datetime) {\n\t                    scope.formattedDatetime = utils.date(datetime).format(scope.dateFormat || defaultDateFormat);\n\t                    var lapse = parseInt(scope.hideAfter, 10);\n\n\t                    if (!lpCoreUtils.isNaN(lapse) && lapse > 0) {\n\t                        $timeout(function() {\n\t                            scope.show = false;\n\t                        }, lapse * 1000);\n\t                    }\n\n\t                    lastLoginDateTimeUnregister();\n\t                }\n\t            });\n\n\t        }\n\n\t        return {\n\t            restrict: 'AE',\n\t            scope: {\n\t                lastLoginDateTime: '=lpLastLogin',\n\t                hideAfter: '=',\n\t                dateFormat: '@'\n\t            },\n\t            link: linkFn,\n\t            template: templateFn\n\t        };\n\t    };\n\t    exports.lpLastLogin.$inject = [\"$timeout\", \"$parse\", \"lpCoreUtils\"];\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t    'use strict';\n\n\t    exports.PROFILE_SUMMARY_DEFAULTS = {\n\t        PROFILE_IMG_SIZE: '42',\n\t        PROFILE_IMG_BG: '#ccc'\n\t    };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t    'use strict';\n\n\t    // @ngInject\n\t    exports.profileSummaryController = function($scope, lpWidget, lpPortal, lpUsersAuthentication, lpUsersPreference, lpCoreUtils, lpCoreBus, PROFILE_SUMMARY_DEFAULTS) {\n\t        //aliases\n\t        var bus = lpCoreBus;\n\t        var utils = lpCoreUtils;\n\n\t        $scope.model = {\n\t            username: 'Admin'\n\t        };\n\n\t        // Expose widget preferences\n\t        $scope.lastLoginDateTimeShow = utils.parseBoolean(lpWidget.getResolvedPreference('lastLoginDateTimeShow'));\n\t        $scope.lastLoginDateTimeHideAfter = lpWidget.getResolvedPreference('lastLoginDateTimeHideAfter');\n\t        $scope.profileImgSize = parseInt(lpWidget.getPreference('profileImgSize'), 10) || PROFILE_SUMMARY_DEFAULTS.PROFILE_IMG_SIZE;\n\t        $scope.profileImgBg = lpWidget.getPreference('profileImgBg') || PROFILE_SUMMARY_DEFAULTS.PROFILE_IMG_BG;\n\n\t        //gets the link to the profile from a preference (if any)\n\t        var profileLink = lpWidget.getResolvedPreference('profileLink');\n\n\t        $scope.profileLink = profileLink || null;\n\n\t        var username = lpPortal.userId || 'Anonymous';\n\n\t        utils.extend($scope.model, {\n\t            username: username\n\t        });\n\n\t        lpUsersPreference.get()\n\t        .then(function(response) {\n\t            var preferences = response.data;\n\n\t            $scope.model.preferredName = preferences.preferredName || utils.capitalize(preferences.firstName) || utils.capitalize($scope.model.username);\n\t            $scope.model.photo = preferences.photoData || (preferences.photoUrl ? decodeURIComponent(preferences.photoUrl) : null);\n\t            $scope.model.lastLoginDateTime = preferences.details && preferences.details.lastLoginDateTime;\n\t        })\n\t        ['catch'](function() {\n\t            $scope.model.preferredName = utils.capitalize($scope.model.username);\n\t        });\n\n\t        $scope.logout = function() {\n\t            lpUsersAuthentication.logOut();\n\t        };\n\n\t        $scope.responsiveRules = [\n\t            { min: 0, max: 110, size: 'xs' },\n\t            { min: 101, size: 'small' },\n\t            { min: 201, size: 'medium' }\n\t        ];\n\n\t        $scope.onSizeChange = function(size) {\n\t            $scope.responsive = size;\n\t        };\n\n\t        $scope.viewProfile = function () {\n\t            bus.publish('launchpad-retail.viewProfile', {\n\t                originType: 'profileSummary'\n\t            }, true);\n\t        };\n\t    };\n\t    exports.profileSummaryController.$inject = [\"$scope\", \"lpWidget\", \"lpPortal\", \"lpUsersAuthentication\", \"lpUsersPreference\", \"lpCoreUtils\", \"lpCoreBus\", \"PROFILE_SUMMARY_DEFAULTS\"];\n\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** scripts/main.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d6fb13f3ee287be68131\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    module.name = 'widget-profile-summary';\n\n    var base = require('base');\n    var core = require('core');\n    var ui = require('ui');\n    var users = require('module-users');\n    var lastLogin = require('./components/last-login/main');\n\n    var deps = [\n        core.name,\n        ui.name,\n        users.name,\n        lastLogin.name\n    ];\n\n    // @ngInject\n    function run(lpCoreBus) {\n        // triggering event that widget was loaded after signing in\n        lpCoreBus.publish('launchpad-retail.behavior', {tag: 'signedin'});\n    }\n\n    module.exports = base.createModule(module.name, deps)\n        .constant( require('./constants') )\n        .controller( require('./controllers') )\n        .run( run );\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 1\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    module.name = 'widget-profile-summary.component.last-login';\n\n    var base = require('base');\n    var core = require('core');\n\n    var deps = [\n        core.name\n    ];\n\n    module.exports = base.createModule(module.name, deps)\n        .directive( require('./directives') );\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/components/last-login/main.js\n ** module id = 6\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n\n    'use strict';\n\n    var utils = require('base').utils;\n    var defaultDateFormat = 'MMM. Do, hh:mmA';\n\n    // @ngInject\n    exports.lpLastLogin = function($timeout, $parse, lpCoreUtils) {\n        var tmpl = [\n            '<div class=\"lp-last-login\" ng-show=\"show\">',\n            '    <span class=\"lp-last-login__label\" lp-i18n=\"Last seen\"></span> : <span class=\"lp-last-login__datetime\">{{ formattedDatetime }}</span>',\n            '</div>'\n        ].join('');\n\n        function templateFn() {\n            return tmpl;\n        }\n\n        function linkFn(scope, element, attrs) {\n            var lastLoginDateTimeUnregister;\n\n            scope.show = true;\n\n            lastLoginDateTimeUnregister = scope.$watch('lastLoginDateTime', function(datetime) {\n                if (datetime) {\n                    scope.formattedDatetime = utils.date(datetime).format(scope.dateFormat || defaultDateFormat);\n                    var lapse = parseInt(scope.hideAfter, 10);\n\n                    if (!lpCoreUtils.isNaN(lapse) && lapse > 0) {\n                        $timeout(function() {\n                            scope.show = false;\n                        }, lapse * 1000);\n                    }\n\n                    lastLoginDateTimeUnregister();\n                }\n            });\n\n        }\n\n        return {\n            restrict: 'AE',\n            scope: {\n                lastLoginDateTime: '=lpLastLogin',\n                hideAfter: '=',\n                dateFormat: '@'\n            },\n            link: linkFn,\n            template: templateFn\n        };\n    };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/components/last-login/directives.js\n ** module id = 7\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    exports.PROFILE_SUMMARY_DEFAULTS = {\n        PROFILE_IMG_SIZE: '42',\n        PROFILE_IMG_BG: '#ccc'\n    };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/constants.js\n ** module id = 8\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n    'use strict';\n\n    // @ngInject\n    exports.profileSummaryController = function($scope, lpWidget, lpPortal, lpUsersAuthentication, lpUsersPreference, lpCoreUtils, lpCoreBus, PROFILE_SUMMARY_DEFAULTS) {\n        //aliases\n        var bus = lpCoreBus;\n        var utils = lpCoreUtils;\n\n        $scope.model = {\n            username: 'Admin'\n        };\n\n        // Expose widget preferences\n        $scope.lastLoginDateTimeShow = utils.parseBoolean(lpWidget.getResolvedPreference('lastLoginDateTimeShow'));\n        $scope.lastLoginDateTimeHideAfter = lpWidget.getResolvedPreference('lastLoginDateTimeHideAfter');\n        $scope.profileImgSize = parseInt(lpWidget.getPreference('profileImgSize'), 10) || PROFILE_SUMMARY_DEFAULTS.PROFILE_IMG_SIZE;\n        $scope.profileImgBg = lpWidget.getPreference('profileImgBg') || PROFILE_SUMMARY_DEFAULTS.PROFILE_IMG_BG;\n\n        //gets the link to the profile from a preference (if any)\n        var profileLink = lpWidget.getResolvedPreference('profileLink');\n\n        $scope.profileLink = profileLink || null;\n\n        var username = lpPortal.userId || 'Anonymous';\n\n        utils.extend($scope.model, {\n            username: username\n        });\n\n        lpUsersPreference.get()\n        .then(function(response) {\n            var preferences = response.data;\n\n            $scope.model.preferredName = preferences.preferredName || utils.capitalize(preferences.firstName) || utils.capitalize($scope.model.username);\n            $scope.model.photo = preferences.photoData || (preferences.photoUrl ? decodeURIComponent(preferences.photoUrl) : null);\n            $scope.model.lastLoginDateTime = preferences.details && preferences.details.lastLoginDateTime;\n        })\n        ['catch'](function() {\n            $scope.model.preferredName = utils.capitalize($scope.model.username);\n        });\n\n        $scope.logout = function() {\n            lpUsersAuthentication.logOut();\n        };\n\n        $scope.responsiveRules = [\n            { min: 0, max: 110, size: 'xs' },\n            { min: 101, size: 'small' },\n            { min: 201, size: 'medium' }\n        ];\n\n        $scope.onSizeChange = function(size) {\n            $scope.responsive = size;\n        };\n\n        $scope.viewProfile = function () {\n            bus.publish('launchpad-retail.viewProfile', {\n                originType: 'profileSummary'\n            }, true);\n        };\n    };\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./scripts/controllers.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}