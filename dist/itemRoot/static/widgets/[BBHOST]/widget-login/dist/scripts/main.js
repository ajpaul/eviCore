/* widget-login@v2.2.8 build with â™¥ by bb-lp-cli@v1.9.11 */
!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o(require("base"),require("core"),require("ui")):"function"==typeof define&&define.amd?define(["base","core","ui"],o):"object"==typeof exports?exports["widget-login"]=o(require("base"),require("core"),require("ui")):e["widget-login"]=o(e.base,e.core,e.ui)}(this,function(e,o,r){return function(e){function o(t){if(r[t])return r[t].exports;var n=r[t]={exports:{},id:t,loaded:!1};return e[t].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}var r={};return o.m=e,o.c=r,o.p="",o(0)}([function(e,exports,o){e.exports=o(1)},function(e,exports,o){var r;(function(e){"use strict";r=function(require,exports,e){function r(e,o){o.configure({redirect:e.getPreference("redirect")})}r.$inject=["lpWidget","LoginService"],e.name="widget-login";var t=o(3),n=o(4),i=o(5),c=[n.name,i.name];e.exports=t.createModule(e.name,c).service(o(6)).controller(o(7)).directive(o(8)).run(r)}.call(exports,o,exports,e),!(void 0!==r&&(e.exports=r))}).call(exports,o(2)(e))},function(e,exports){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(o,exports){o.exports=e},function(e,exports){e.exports=o},function(e,exports){e.exports=r},function(e,exports,o){var r;r=function(require,exports,e){"use strict";exports.LoginService=function(e,o,r,t){var n=this,i={loginUrl:r.root+"/j_spring_security_check",logoutUrl:r.root+"/j_spring_security_logout?portalName="+r.name,successPage:null},c={userId:"launchpad.userId",userData:"launchpad.userData"};this.configure=function(e){t.extend(i,e)},this.doLogin=function(e,o){var r=this.getLoginPromise(e,o).success(function(e){e&&!e.successView?n.error="CANNOT_AUTHENTICATE":(n.error=null,n.handleSuccessfulLogin(e||{}))}).error(function(e){n.error=e.errors[0].code});return r},this.getLoginPromise=function(o,n){var c={j_username:o,j_password:n,portal_name:r.name,page_name:r.page.name};return i.redirect&&(c.redirect=i.redirect),e.post(i.loginUrl,t.buildQueryString(c),{headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})},this.handleSuccessfulLogin=function(e){if(0===o.location.protocol.indexOf("file:")&&(e.successView=null),e.successView)o.location.replace(r.root+e.successView);else{var t;t=0===o.location.protocol.indexOf("file:")?o.location.pathname.split("//")[0]+o.location.search+o.location.hash:o.location.href,o.location.replace(t)}},this.doLogout=function(){o.sessionStorage.clear(),o.location.href=i.logoutUrl},this.getStoredData=function(){return o.sessionStorage.getItem(c.userData)}},exports.LoginService.$inject=["$http","$window","lpPortal","lpCoreUtils"]}.call(exports,o,exports,e),!(void 0!==r&&(e.exports=r))},function(e,exports,o){var r;r=function(require,exports){"use strict";exports.LoginController=function(e,o,r,t,n){var i=t,c=r,s=n.getStoredData();o.loadMessages(i).success(function(o){e.messages=o.messages}),e.user={},c.isNull(s)||c.extend(e.user,{id:s,remember:!0}),e.allowSubmit=function(){return e.user.id},e.doLogin=function(){e.$broadcast("autofill:update"),n.doLogin(e.user.id,e.user.password,e.user.remember).then(function(o){n.error&&(e.error=e.messages&&e.messages[n.error]||n.error)})},i.addEventListener("preferencesSaved",function(){i.refreshHTML()})},exports.LoginController.$inject=["$scope","i18nUtils","lpCoreUtils","lpWidget","LoginService"]}.call(exports,o,exports,e),!(void 0!==r&&(e.exports=r))},function(e,exports,o){var r;r=function(require,exports,e){"use strict";exports.autofill=function(){return{require:"?ngModel",restrict:"A",link:function(e,o,r,t){e.$on("autofill:update",function(){t.$setViewValue(o.val())})}}}}.call(exports,o,exports,e),!(void 0!==r&&(e.exports=r))}])});
//# sourceMappingURL=main.js.map